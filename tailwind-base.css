/* Tailwind Base Styles for Tom Critchlow Blog Design System */

@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Base HTML Styles */
@layer base {
  html {
    font-family: "Libre Franklin", sans-serif;
    color: #212121;
    font-size: 15px;
    -webkit-font-smoothing: antialiased;
    font-smoothing: antialiased;
    -webkit-text-rendering: optimizeLegibility;
    text-rendering: optimizeLegibility;
  }

  body {
    background-color: #fffff8;
    counter-reset: sidenote-counter;
  }
}

/* Component Styles */
@layer components {
  /* Link Styles */
  .link {
    @apply text-newgreen no-underline font-bold transition-all duration-fast ease-in-fast;
  }

  .link:hover {
    box-shadow: inset 0 -24px 0 rgba(0, 255, 0, 0.4);
  }

  .link-black {
    @apply text-tcblack no-underline;
  }

  .link-black:hover {
    box-shadow: inset 0 -24px 0 rgba(0, 255, 0, 0.4);
  }

  /* Blockquote */
  blockquote {
    @apply border-l-4 border-newgreen pl-2.5 ml-2.5 italic;
  }

  /* Code Blocks */
  pre {
    @apply bg-black text-white overflow-scroll text-xs;
  }

  code {
    @apply font-code;
  }

  /* Post Container */
  .postcontainer {
    @apply break-words;
  }

  .postcontainer h2,
  .postcontainer h3 {
    @apply pt-8 mb-0;
  }

  .postcontainer p,
  .postcontainer li,
  .postcontainer blockquote {
    @apply leading-relaxed text-body;
  }

  .postcontainer li {
    @apply py-1;
  }

  .postcontainer p img {
    @apply max-w-full pt-8 pb-8;
  }

  /* Date Header */
  .date-header {
    @apply border-b-2 border-newgreen w-full font-ibmplexmono uppercase text-f6 mb-12;
  }

  /* Post Title */
  .post-title {
    @apply text-f2 font-extrabold leading-solid my-2;
  }

  /* Subtitle */
  .subtitle {
    @apply text-f3 font-light leading-copy mt-2 pb-2 italic pt-0;
  }

  /* Navigation */
  .nav-item {
    @apply block flex items-center mx-3 p-2 bg-transparent hover:bg-white transition-colors rounded-lg uppercase;
  }

  .nav-item.active {
    @apply bg-white;
  }

  /* Contact Box */
  .contactbox a {
    @apply no-underline border-4 border-bright-green p-5 transition-all duration-100;
  }

  .contactbox a:hover {
    @apply p-8;
  }

  /* Green Dot */
  .greendot {
    @apply inline-block w-2.5 h-2.5 bg-newgreen rounded-full mt-1.5;
  }

  /* Green Timeline */
  .greentimeline {
    @apply absolute border-l border-newgreen top-0 left-1/2 w-1/2 h-full -z-10;
  }

  /* Dotted Green Arrow */
  .dottedgreenarrow {
    @apply border-t-2 border-dashed border-bright-green mt-2.5 mb-2.5 relative;
  }

  .dottedgreenarrow::before {
    @apply absolute bottom-[-5px] left-0;
    content: '';
    width: 0;
    height: 0;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-right: 5px solid #00ff00;
  }

  .dottedgreenarrow::after {
    @apply absolute bottom-[-4px] right-0;
    content: '';
    width: 0;
    height: 0;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-left: 5px solid #00ff00;
  }

  /* Form Inputs */
  .form-input {
    @apply bg-near-white w-full border border-black-20 p-2 px-3 rounded-l-lg;
  }

  .form-submit {
    @apply w-auto p-2 px-3 border border-newgreen bg-near-white rounded-r-lg cursor-pointer;
  }

  /* Sidenotes (Tufte-style) */
  .sidenote,
  .marginnote {
    @apply float-right clear-right mr-[-35%] w-[30%] mt-0 mb-0 text-sm leading-snug relative;
  }

  .sidenote-number {
    counter-increment: sidenote-counter;
  }

  .sidenote-number:after {
    @apply relative -top-2 left-1;
    content: counter(sidenote-counter);
    font-size: 1rem;
  }

  .sidenote:before {
    @apply relative -top-2 text-xs text-sidenote-blue;
    content: counter(sidenote-counter) " ";
  }

  label.sidenote-number {
    @apply inline text-sidenote-blue underline;
  }

  /* Mobile sidenote toggle */
  input.margin-toggle {
    @apply hidden;
  }

  label.margin-toggle:not(.sidenote-number) {
    @apply hidden;
  }

  @media (max-width: 1023px) {
    label.margin-toggle:not(.sidenote-number) {
      @apply inline cursor-pointer;
    }

    .sidenote,
    .marginnote {
      @apply hidden;
    }

    .margin-toggle:checked + .sidenote,
    .margin-toggle:checked + .marginnote {
      @apply block float-left left-4 clear-both w-[95%] my-4 mx-[2.5%] relative;
    }
  }
}

/* Utility Classes */
@layer utilities {
  /* Tachyons-like width utilities */
  .w-two-thirds {
    width: 66.666667%;
  }

  @media (min-width: 1024px) {
    .w-two-thirds-l {
      width: 66.666667%;
    }
  }

  /* Content width utilities */
  .content-width {
    @apply w-full lg:w-two-thirds mx-auto;
  }

  /* Sidebar layout */
  .sidebar-layout {
    @apply ml-0 lg:ml-[223px];
  }

  /* Main content area */
  .main-content {
    @apply w-full lg:max-w-[1024px] mx-auto;
  }
}

